<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Associations Niortaises{% endblock %}</title>

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/startbootstrap-sb-admin-2@4.1.4/css/sb-admin-2.min.css">
  <link rel="stylesheet"
        href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap4.min.css">
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/datatables.net-colresize-unofficial@1.7.2/jquery.dataTables.colResize.css">
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  {% block head_extra %}{% endblock %}
</head>

<style>
/* la table adopte la grille fixe → le tbody suit la largeur des th */
#assos-table{
  table-layout: fixed;
  width: 100% !important;   /* DataTables peut écraser sinon */
}

/*   cellules : pas de retour à la ligne + ellipsis   */
#assos-table th,
#assos-table td{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* curseur col‑resize sur l’en‑tête */
table.dataTable thead th.dt-colresizable-hover,
.DTCR_pointer,
.DTCR_pointerShadow{cursor:col-resize!important;}

    td.details-control       { cursor:pointer; }
    td.details-control::before {
      content:'\f054';               /* FA chevron‑right */
      font-family:"Font Awesome 5 Free";
      font-weight:900;
      color:#0d6efd; margin-right:4px;
    }
    tr.shown td.details-control::before {
      content:'\f078';               /* chevron‑down */
    }
</style>

<body id="page-top">
<div id="wrapper">
  <!-- ===== SIDEBAR ===== -->
  <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled" id="accordionSidebar">
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/">
          <div class="sidebar-brand-icon rotate-n-15"><i class="fas fa-globe"></i></div>
          <div class="sidebar-brand-text mx-2">AstroWeb</div>
      </a>
      <hr class="sidebar-divider my-0">
      <li class="nav-item active">
          <a class="nav-link" href="/"><i class="fas fa-fw fa-table"></i><span>Associations</span></a>
      </li>
      <li class="nav-item active">
          <a class="nav-link" href="/docker"><i class="fa-brands fa-docker"></i><span>Docker</span></a>
      </li>
      <li class="nav-item active">
          <a class="nav-link" href="/forfait"><i class="fa-solid fa-money-check-dollar"></i><span>Forfait</span></a>
      </li>
      <hr class="sidebar-divider d-none d-md-block">
      <div class="text-center d-none d-md-inline">
          <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>
  </ul>

  <!-- ===== CONTENT ===== -->
  <div id="content-wrapper" class="d-flex flex-column">
      <div id="content">
          <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
              <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                  <i class="fa fa-bars"></i>
              </button>
              <ul class="navbar-nav ml-auto">
                  <li class="nav-item my-auto mr-3">
  {% if ssh_status_ok is sameas true %}
    <i class="fas fa-circle text-success" title="SSH OK"></i>
  {% elif ssh_status_ok is sameas false %}
    <i class="fas fa-circle text-danger" title="SSH Failed"></i>
  {% else %}
    <i class="fas fa-circle text-secondary" title="SSH Not configured"></i>
  {% endif %}
</li>
                  <li class="nav-item">
                      <span class="mr-2 d-none d-lg-inline text-gray-600 small">
                          Projet associations Niort
                      </span>
                  </li>
              </ul>
          </nav>

          <div class="container-fluid">
              {% block content %}{% endblock %}
          </div>
      </div>

      <footer class="sticky-footer bg-white">
          <div class="container my-auto">
              <div class="copyright text-center my-auto">
                  <span>&copy; 2025 AstroWeb Digital</span>
              </div>
          </div>
      </footer>
  </div>
</div>

 <!-- JS externes -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://kit.fontawesome.com/b574da12d9.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
<script src="https://unpkg.com/leaflet-image/leaflet-image.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>

  <!-- Scripts assoNiort -->
{#  <script src="{{ url_for('static', filename='js/assoNiort/datatable.js') }}"></script>#}
{#  <script src="{{ url_for('static', filename='js/assoNiort/filtres.js') }}"></script>#}
{#  <script src="{{ url_for('static', filename='js/assoNiort/details.js') }}"></script>#}
{#  <script src="{{ url_for('static', filename='js/assoNiort/map.js') }}"></script>#}
{#  <script src="{{ url_for('static', filename='js/assoNiort/stats-cards.js') }}"></script>#}
{#  <script src="{{ url_for('static', filename='js/assoNiort/mail.js') }}"></script>#}

<script type="module" src="{{ url_for('static', filename='js/docker/init.js') }}"></script>

  <!-- Le grand orchestreur (tout le reste, y compris Docker Dashboard) -->
  <script src="{{ url_for('static', filename='js/init.js') }}"></script>

{% block scripts %}{% endblock %}

</body>
</html>
